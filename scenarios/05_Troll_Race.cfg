#textdomain wesnoth-DoS

[scenario]
    id = 05_Troll_Race
    name = _ "The Third Deed"
    random_start_time=no
    experience_modifier=100
    map_data="{~add-ons/Deeds_of_Sir_Swine/maps/Trolls.map}"
    victory_when_enemies_defeated=no
    next_scenario=06_Diplomacy2
    carryover_percentage=20
    carryover_add=yes
    {TURNS 55 45 35}
    {SCENARIO_MUSIC "underground.ogg"}
    {EXTRA_SCENARIO_MUSIC "knalgan_theme.ogg"}
    {EXTRA_SCENARIO_MUSIC "the_dangerous_symphony.ogg"}
    {EXTRA_SCENARIO_MUSIC "the_deep_path.ogg"}
    {UNDERGROUND}
    
    [story]
             [part]
              {BARD}
            story={CAPTION ( _ "Bard")} + _ "<i>…with a single strike of his lance Sir Garka was piercing a dozen of rebels; with one push his boar crushed their formation like a ram crushes gates! The knight has shown the rabble its place, and no peasant in the whole panstvo ever thought to start a rebellion! That's his second deed for the Kingdom.</i>"
            music=tavern.ogg
        [/part]
        [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "Why couldn't folks stand up for themselves? In our place he would be quickly raised on spears."
        [/part]
        [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "Come on! Your people are armed and trained. And what could our paupers possibly do to ogres?"
        [/part]
         [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "E-eh. I can only note the bravery of the rebelled."
        [/part]
         [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "It's true. Usually our people are calm and scared. But Swine managed to piss off even them."
        [/part]
         [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "What would've been if the villagers had defeated him against all odds?"
        [/part]
        [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "They would've lived a week or two like free people, but then – again, back to slavery."
        [/part]
         [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "Why?"
        [/part]
          [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "How could those paupers-serfs stay free surrounded by armed ogres? Swine's neighbours would quickly take measures. And instead of a single gang of ogres the villagers would've faced three. That's why nobody even tries. Among humans, I mean."
        [/part]
         [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "And not among humans?"
        [/part]
         [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "Half-ogres try, and trolls. Swine had trolls by the way. See, this guy is telling about them now..."
        [/part]
         [part]
            {BARD}
            story={CAPTION ( _ "Bard")} + _ "<i>...Sir Garka uncovered a conspiracy of trolls: they decided to run away in order to avoid going to war. Without missing a beat, the knight rushed into the pursit. He had to accomplish the third deed: to crush cowardly conspirators and to return honour and courage to the hearts of trolls who were so important for the royal army...</i>"
        [/part]
         [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "There was no conspiracy, that's nonsense. Indeed, trolls of Swine left. That was a big, strong tribe. Their chief had some special agreements with Makkord. Swine spat on them all. Trolls live simple, don't have possessions, they can easily leave. And so they left."
        [/part]
          [part]
            {SLAV}
            story={CAPTION ( _ "Northertner")} + _ "So Swine rushed after them?"
        [/part]
          [part]
            {SOLDIER}
            story={CAPTION ( _ "Soldier")} + _ "Yeah. Was squealing and crying like a real pig. Sent scouts to all caves nearby. And damn it, he found them! They hid in an abandoned mine. Only that was not a mere escape."
        [/part]       
 [/story]
 [item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=16
	y=19
[/item]
[item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=21
	y=22
[/item]
[item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=26
	y=14
[/item]
[item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=31
	y=17
[/item]
[item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=36
	y=9
[/item]
[item]
	image="items/gohere.png"
	visible_in_fog=yes
	x=41
	y=12
[/item]
    [side]
        controller=human
        side=1
        {GOLD 250 200 0}
        {SWINE_STATS}
        team_name=swine
        user_team_name= _ "Sir Garka"
        color=red
        fog=no
        shroud=yes 
       [village]
		x=2
		y=28
	[/village]
	[village]
		x=4
		y=30
	[/village]
	[village]
		x=6
		y=28
	[/village]
	[village]
		x=7
		y=30
	[/village]
	[village]
		x=8
		y=29
	[/village]
	[village]
		x=8
		y=30
	[/village]
    [/side]
     [side]
        controller=ai
        side=2
        team_name=trolls
        user_team_name= _ "Trolls"
        color=brown
        id=Shaman
        type=Troll Shaman
        name= _ "Troll Chieftain"
        hidden=no
   [village]
		x=13
		y=19
	[/village]
	   [village]
		x=43
		y=8
	[/village]
	   [village]
		x=39
		y=6
	[/village]
	   [village]
		x=13
		y=19
	[/village]
	[village]
		x=45
		y=4
	[/village]
	   [village]
		x=48
		y=8
	[/village]
	[village]
		x=21
		y=25
	[/village]
	[village]
		x=22
		y=13
	[/village]
	[village]
		x=23
		y=23
	[/village]
	[village]
		x=25
		y=13
	[/village]
	[village]
		x=31
		y=20
	[/village]
	[village]
		x=33
		y=9
	[/village]
	[village]
		x=34
		y=18
	[/village]
	[village]
		x=35
		y=7
	[/village]
	[village]
		x=42
		y=14
	[/village]
	[village]
		x=43
		y=13
	[/village]
    [village]
        x=15
        y=17
    [/village]
	[unit]
		facing="se"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=7
		y=24
	[/unit]
	[unit]
		facing="ne"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=12
		y=26
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=9
		y=23
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=14
		y=25
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=15
		y=25
	[/unit]
	[unit]
		facing="ne"
		type="Kingdom_Catapult_Troll"
		max_moves=0
		x=12
		y=21
	[/unit]
	[unit]
		facing="ne"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=17
		y=24
	[/unit]
	[unit]
		facing="se"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=19
		y=23
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=14
		y=20
	[/unit]
	[unit]
		facing="se"
		type="Troll Whelp"
		max_moves=0
		x=16
		y=21
	[/unit]
	[unit]
		facing="s"
		type="Troll Whelp"
		max_moves=0
		x=17
		y=22
	[/unit]
	[unit]
	    id=guard1
		facing="sw"
		type="Troll Whelp"
		max_moves=0
		x=7
		y=26
	[/unit]
	[unit]
	    id=guard2
		facing="nw"
		type="Troll Whelp"
		max_moves=0
		x=8
		y=26
	[/unit]
	[unit]
		facing="n"
		type="Troll Whelp"
		max_moves=0
		x=16
		y=19
	[/unit]
	[unit]
		facing="ne"
		type="Troll Whelp"
		max_moves=0
		x=21
		y=22
	[/unit]
	[unit]
		facing="ne"
		type="Troll Whelp"
		max_moves=0
		x=26
		y=16
	[/unit]
	[unit]
		facing="s"
		type="Troll Whelp"
		max_moves=0
		x=27
		y=17
	[/unit]
	[unit]
		facing="ne"
		type="Troll Whelp"
		max_moves=0
		x=26
		y=14
	[/unit]
	[unit]
		facing="nw"
		type="Troll Whelp"
		max_moves=0
		x=31
		y=17
	[/unit]
	[unit]
		facing="se"
		type="Kingdom_Catapult_Troll"
		max_moves=0
		x=23
		y=16
	[/unit]
	[unit]
		facing="n"
		type="Kingdom_Catapult_Troll"
		max_moves=0
		x=26
		y=19
	[/unit]
	[unit]
		facing="n"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=24
		y=15
	[/unit]
	[unit]
		facing="se"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=22
		y=16
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=25
		y=20
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=24
		y=20
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=29
		y=18
	[/unit]
	[unit]
		facing="ne"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=19
		y=18
	[/unit]
	[unit]
		facing="s"
		type="Troll Whelp"
		max_moves=0
		x=36
		y=11
	[/unit]
	[unit]
		facing="ne"
		type="Troll Whelp"
		max_moves=0
		x=37
		y=12
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=30
		y=12
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=29
		y=13
	[/unit]
	[unit]
		facing="n"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=32
		y=11
	[/unit]
	[unit]
		facing="s"
		type="Kingdom_Catapult_Troll"
		max_moves=0
		x=33
		y=11
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=38
		y=13
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=37
		y=14
	[/unit]
	[unit]
		facing="nw"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=34
		y=15
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Trebuchet_Troll"
		max_moves=0
		x=38
		y=10
	[/unit]
	[unit]
		facing="s"
		type="Troll Whelp"
		max_moves=0
		x=36
		y=9
	[/unit]
	[unit]
		facing="s"
		type="Troll Whelp"
		max_moves=0
		x=41
		y=12
	[/unit]
	[unit]
		facing="s"
		type="Kingdom_Siege_Troll"
		max_moves=0
		x=40
		y=12
	[/unit]
	[unit]
		facing="sw"
		type="Kingdom_Troll_Wallcrusher"
		ai_special=guardian
		x=44
		y=7
	[/unit]
	[unit]
		facing="nw"
		type="Troll"
		ai_special=guardian
		x=43
		y=7
	[/unit]
	[unit]
		facing="sw"
		type="Troll"
		ai_special=guardian
		x=45
		y=8
	[/unit]
    [/side]
    [event]
        name=last breath
        [filter]
            id=Swine
            [or]
                id=Cleric
            [/or]
        [/filter]
        [message]
            speaker=unit
            message= _ "No!"
        [/message]
        [endlevel]
            result=defeat
        [/endlevel]
    [/event]
     [event]
        name=prestart
        [objectives]
            [objective]
                description= _ "Kill troll's chief"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of Sir Swine"
                condition=lose
            [/objective]
            [objective]
                description= _ "Death of Wise Advicer"
                condition=lose
            [/objective]
            [objective]
                description= _ "Turns run out"
                condition=lose
            [/objective]
            [gold_carryover]
                bonus=yes
                carryover_percentage=20
            [/gold_carryover]
        [/objectives]
        [recall]
        id=Cleric
        [/recall]
    [/event] 
     #define KILL SIDE TERRAIN 
    [kill]
    side={SIDE}
    animate=no
    [filter_location]
    terrain={TERRAIN}
    [/filter_location]
    [/kill]
    #enddef
    [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=16
    y=19
    [/filter_location]
    [/filter]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
    [remove_item]
    x=16
    y=19
    [/remove_item]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 15 20}
    {MODIFY_TERRAIN Qxe 14 20}
    {MODIFY_TERRAIN Qxe 13 21}
    {MODIFY_TERRAIN Qxe 12 21}
    {MODIFY_TERRAIN Qxe 11 22}
    {MODIFY_TERRAIN Qxe 10 22}
    {MODIFY_TERRAIN Qxe 9 23}
    {MODIFY_TERRAIN Qxe 8 23}
    {MODIFY_TERRAIN Qxe 7 24}
    {MODIFY_TERRAIN Qxe 6 24}
    {KILL 2 Qxe}
    [/event]
     [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=21
    y=22
    [/filter_location]
    [/filter]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
    [remove_item]
    x=21
    y=22
    [/remove_item]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 20 22}
    {MODIFY_TERRAIN Qxe 19 23}
    {MODIFY_TERRAIN Qxe 18 23}
    {MODIFY_TERRAIN Qxe 17 24}
    {MODIFY_TERRAIN Qxe 16 24}
    {MODIFY_TERRAIN Qxe 15 25}
    {MODIFY_TERRAIN Qxe 14 25}
    {MODIFY_TERRAIN Qxe 13 26}
    {MODIFY_TERRAIN Qxe 12 26}
    {MODIFY_TERRAIN Qxe 11 27}
    {KILL 2 Qxe}
    [/event]
     [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=26
    y=14
    [/filter_location]
    [/filter]
     [remove_item]
    x=26
    y=14
    [/remove_item]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 25 15}
    {MODIFY_TERRAIN Qxe 24 15}
    {MODIFY_TERRAIN Qxe 23 16}
    {MODIFY_TERRAIN Qxe 22 16}
    {MODIFY_TERRAIN Qxe 21 17}
    {MODIFY_TERRAIN Qxe 20 17}
    {MODIFY_TERRAIN Qxe 19 18}
    {MODIFY_TERRAIN Qxe 18 18}
    {KILL 2 Qxe}
    [/event]
      [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=31
    y=17
    [/filter_location]
    [/filter]
     [remove_item]
    x=31
    y=17
    [/remove_item]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 30 17}
    {MODIFY_TERRAIN Qxe 29 17}
    {MODIFY_TERRAIN Qxe 29 18}
    {MODIFY_TERRAIN Qxe 28 18}
    {MODIFY_TERRAIN Qxe 27 19}
    {MODIFY_TERRAIN Qxe 26 19}
    {MODIFY_TERRAIN Qxe 25 20}
    {MODIFY_TERRAIN Qxe 24 20}
    {MODIFY_TERRAIN Qxe 23 21}
    {KILL 2 Qxe}
    [/event]
      [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=36
    y=9
    [/filter_location]
    [/filter]
     [remove_item]
    x=36
    y=9
    [/remove_item]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 35 10}
    {MODIFY_TERRAIN Qxe 34 10}
    {MODIFY_TERRAIN Qxe 33 11}
    {MODIFY_TERRAIN Qxe 32 11}
    {MODIFY_TERRAIN Qxe 31 12}
    {MODIFY_TERRAIN Qxe 30 12}
    {MODIFY_TERRAIN Qxe 29 13}
    {MODIFY_TERRAIN Qxe 28 13}
    {KILL 2 Qxe}
    [/event]
      [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x=41
    y=12
    [/filter_location]
    [/filter]
     [remove_item]
    x=41
    y=12
    [/remove_item]
    [message]
    speaker=unit
    message=_"Break the support!"
    [/message]
     [sound]
    name=axe.ogg
    [/sound]
    [delay]
    time=200
    [/delay]
    [sound]
    name=wose-die.ogg
    [/sound]
    [delay]
    time=700
    [/delay]
    {QUAKE rumble.ogg}
    {MODIFY_TERRAIN Qxe 40 12}
    {MODIFY_TERRAIN Qxe 39 13}
    {MODIFY_TERRAIN Qxe 38 13}
    {MODIFY_TERRAIN Qxe 37 14}
    {MODIFY_TERRAIN Qxe 36 14}
    {MODIFY_TERRAIN Qxe 35 15}
    {MODIFY_TERRAIN Qxe 34 15}
    {MODIFY_TERRAIN Qxe 33 16}
    {KILL 2 Qxe}
    [/event]  
    [event]
    name=start
    [message]
    speaker=Swine
    message=_"Trolls! How dare you, hr, to run away from me!?"
    [/message]
    [message]
    speaker=guard1
    message=_"Chief commanded not to speak with you. Commanded to tell: go to arse, Swine! Go to arse, Swine!"
    [/message]
      [message]
    speaker=guard2
    message=_"And to beat the drum!"
    [/message]
    [sound]
    name=wardrums.ogg
    [/sound]
    [message]
    speaker=Swine
    message=_"So this is it! Hr! I'll show you, traitors, what happens with ones telling me to go arse! Soldiers! Storm the mine!"
    [/message]
    [message]
    speaker=Cleric
    message=_"It seems trolls were waiting for us. Is it worth it to rush to storm, my lord? We have enough gold to recruit trolls of another tribe."
    [/message]
     [message]
    speaker=Swine
    message=_"You understand nothing, hr! No servant dares to run away from me! They have to be punished severely! Attack!"
    [/message]
    [/event]
    [event]
    name=moveto
    first_time_only=yes
    [filter]
    side=1
    [filter_location]
    x,y=12,24
    radius=3
    [/filter_location]
    [/filter]
    [remove_shroud]
    side=1
    [/remove_shroud]
    [message]
    speaker=Cleric
    message=_"I thought so! That's an ambush, my lord!"
    [/message]
    [message]
    speaker=Swine
    message=_"So what, hr? My warriors can handle! Continue with the storm!"
    [/message]
     [message]
    speaker=Cleric
    message=_"No, my lord, if we simply attack them, they will throw stones at us to death!"
    [/message]
     [message]
    speaker=Swine
    message=_"Hr, and what do you suggest?"
    [/message]
     [message]
    speaker=Cleric
    message=_"Trolls are on the wooden constructions on the both sides of the bridge... The constructions don't look strong. We may try to break the supports and bring them down!"
    [/message]
     [message]
    speaker=Swine
    message=_"Not bad, hr. But where are the supports?"
    [/message]
      [message]
    speaker=Cleric
    message=_"There they are, guarded by yound trolls."
    [/message]
      [scroll_to]
            x,y=16,19
        [/scroll_to]
        [delay]
        time=400
        [/delay]
         [scroll_to]
            x,y=21,22
        [/scroll_to]
        [delay]
        time=400
        [/delay]
         [scroll_to]
            x,y=26,14
        [/scroll_to]
        [delay]
        time=400
        [/delay]
         [scroll_to]
            x,y=31,17
        [/scroll_to]
        [delay]
        time=400
        [/delay]
         [scroll_to]
            x,y=36,9
        [/scroll_to]
        [delay]
        time=400
        [/delay]
         [scroll_to]
            x,y=41,12
        [/scroll_to]
        [delay]
        time=400
        [/delay]
       [message]
    speaker=Swine
    message=_"Hr-r, understood. Soldiers! A new plan! Order, hr, to destroy the supports! And then to storm!"
    [/message]
      [objectives]
       [objective]
                description= _ "Destroy the supports to clean the way"
                condition=win
            [/objective]
            [objective]
                description= _ "Kill the troll's chief"
                condition=win
            [/objective]
            [objective]
                description= _ "Death of Sir Swine"
                condition=lose
            [/objective]
            [objective]
                description= _ "Death of Wise Advicser"
                condition=lose
            [/objective]
            [objective]
                description= _ "Turns run out"
                condition=lose
            [/objective]
            [gold_carryover]
                bonus=yes
                carryover_percentage=20
            [/gold_carryover]
            [note]
                description=_"To destroy a support, take a highlighted hex with your unit."
            [/note]
               [note]
                description=_"After destroying a support the section will collapse into the chasm with all trolls standing on it."
            [/note]
        [/objectives]
        [/event]
    [event]
        name=last breath
        [filter]
            side=2
            canrecruit=yes
        [/filter]
        [message]
            speaker=Swine
            message= _ "Tie him! Then, hr, we'll hang the traitor!"
        [/message]
        [heal_unit]
            [filter]
                side=2
                canrecruit=yes
            [/filter]
            amount=full
            animate=no
        [/heal_unit]
        {PLACE_IMAGE items/cage.png 45 6}
        [endlevel]
            result=victory
            bonus=yes
        [/endlevel]
    [/event]
[/scenario]
